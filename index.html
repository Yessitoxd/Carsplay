<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ingreso - CarsPlay
  </title>
  <link rel="stylesheet" href="styles.css">
  <meta name="color-scheme" content="light">
  <!-- Prevent browser from requesting /favicon.ico and set default API base -->
  <link rel="icon" href="data:;base64,">
</head>
<body>
  <header class="site-header">
    <div class="logo">CarsPlay</div>
  </header>

  <main class="page">
    <section class="card" aria-labelledby="login-title">
      <h1 id="login-title">Ingreso para Empleados</h1>

      <form class="login" action="#" method="post" novalidate>
        <label for="username">Nombre de usuario</label>
        <input id="username" name="username" type="text" placeholder="Ingresa tu usuario" required aria-required="true">

        <label for="password">Contraseña</label>
        <input id="password" name="password" type="password" placeholder="Ingresa tu contraseña" required aria-required="true">

        <button class="btn primary" type="submit">Iniciar Sesión</button>
        <a class="btn secondary" href="admin_login.html">Acceso Administrador</a>
      </form>
    </section>
  </main>
</body>
  <script>
      // Default API base behavior:
      // - If `window.API_BASE` is explicitly provided (e.g. injected by deployment), keep it.
      // - If running on localhost (dev), use the local origin so you can test locally.
      // - Otherwise (production / Netlify), default to the Render backend.
      if (!window.API_BASE) {
        const HOST_RENDER = 'https://carsplay.onrender.com';
        try {
          const host = (window.location && window.location.hostname) ? window.location.hostname : '';
          if (host === 'localhost' || host === '127.0.0.1') {
            window.API_BASE = window.location.origin;
          } else if (window.location && window.location.protocol === 'file:') {
            window.API_BASE = 'http://localhost:3000';
          } else {
            // Default to Render production backend for deployed frontends
            window.API_BASE = HOST_RENDER;
          }
        } catch (e) {
          window.API_BASE = HOST_RENDER;
        }
      }
      console.info('Using API base:', window.API_BASE);
  </script>
  <script src="login.js"></script>
</body>
</html>
